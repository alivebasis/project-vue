<!DOCTYPE html>
<html>
<head>
<title>Vue Template - Watch</title>
<meta charset="utf-8">
<body>
<div id="app">
  <!-- <button v-on:click="getData">프레임워크 목록 가져오기</button> -->
  <table>
  <caption><span class="blind">게시판</span></caption>
  <colgroup>
  <col style="width:">
  <col>
  <col>
  </colgroup>
  <thead>
  <tr>
    <th scope="col">순위</th>
    <th scope="col">제목</th>
    <th scope="col">날짜</th>
  </tr>
  </thead>
  <tbody v-if="posts && posts.length">
  <tr v-for="post in posts" v-bind:key="post.id">
    <td scope="row">{{ post.id }}</td>
    <td>
      <img v-bind:src="post.thumbnailUrl">
    </td>
    <td>{{ post.title }}</td>
  </tr>
  </tbody>
  </table>
  <ul v-if="posts && posts.length">
    <li v-for="post in posts" v-bind:key="post.id">
      {{ post.username }}
      <img v-bind:src="post.thumbnailUrl">
    </li>
  </ul>
  <p v-else>{{ errorMsg }}</p>
</div>

<script src="https://cdn.jsdelivr.net/npm/vue@2.5.2/dist/vue.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
  new Vue({
    el: '#app',
    data() {
      return {
        posts: [],
        errorMsg: ''
      }
    },
    created() {
      this.getData();
    },
    methods: {
      getData: function() {
        axios.get('https://jsonplaceholder.typicode.com/photos')
        // axios.get('https://jsonplaceholder.typicode.com/users')
          .then(response => {
            console.log(response)
            this.posts = response.data
          })
          .catch(e => {
            this.errorMsg = 'NO RESULT'
            //언제 catch로 들어오는지, json내 데이터가 없을때 or json 존재하지않을때
          });
      }
    }
  });
</script>
<style>
</style>
</body>
</html>
